<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Random effects in the Bradley-Terry model • bpcs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Random effects in the Bradley-Terry model">
<meta property="og:description" content="bpcs">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bpcs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_get_started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/b_ties_and_home_advantage">Ties and me advantage</a>
    </li>
    <li>
      <a href="../articles/c_bt_random_effects">Random effects</a>
    </li>
    <li>
      <a href="https://arxiv.org/pdf/2101.11227.pdf">Paper - An overview of the models</a>
    </li>
    <li>
      <a href="https://davidissamattos.github.io/bpcs-online-appendix/">Online appendix for the paper</a>
    </li>
    <li>
      <a href="../articles/e_contributing.html">Contributing guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/davidissamattos/bpcs/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="c_bt_random_effects_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Random effects in the Bradley-Terry model</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/davidissamattos/bpcs/blob/master/vignettes/c_bt_random_effects.Rmd"><code>vignettes/c_bt_random_effects.Rmd</code></a></small>
      <div class="hidden name"><code>c_bt_random_effects.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>In this vignette, we will go over an example of analyzing optimization algorithms based on benchmark functions. A extended analysis of this example including the experimental conditions for the data collection is discussed in <a href="https://arxiv.org/abs/2010.03783">“Statistical Models for the Analysis of Optimization Algorithms with Benchmark Functions”</a></p>
<p>In the development of optimization algorithms it is common to use benchmark functions/problems to show:</p>
<ul>
<li>The algorithm works on a number of the artificial problems</li>
<li>Compare how different algorithms perform in the same set of benchmark problems that have a known solution.</li>
</ul>
<p>In the comparison part, researchers usually select a small number of benchmark problems (something like 20-30) and run their algorithms and the algorithms they are comparing several times for the same benchmark (something like 10 times each algorithm in each benchmark). At the end, they compare how close the algorithms approached the solution and rank them.</p>
<p>Almost always, this comparison is done with non-parametric tests statistics and often fail to compute the intra-class correlation of the repeated-measures, or average the repeated measures (throwing out the uncertainty of the results) before running the tests.</p>
<div id="why-use-ranks-and-not-the-output-directly" class="section level2">
<h2 class="hasAnchor">
<a href="#why-use-ranks-and-not-the-output-directly" class="anchor"></a>Why use ranks and not the output directly?</h2>
<p>Each benchmark function has a different search space and the algorithms converge quite differently from one function to the other. While the difference between the minimum and the algorithm output is limited to zero (when they solve the problem), the difference can range from 0.1 to 100 depending on the benchmark problem. To use this value would require either transformations such as normalizing for each benchmark. However, if we want only to rank the algorithms and provide a classification between them, the Bradley-Terry model is ideal. The differences in range of each benchmark function is already taken care of when computing who wins and who looses.</p>
<p>In this example, we will show how to use the Bradley-Terry model to compensate the dependent data of the repeated measures and rank the algorithms. Our Bradley-Terry ranking of the abilities also shows the uncertainty of the ranks and the probabilities of one algorithm beating the other in any of the benchmarks.</p>
</div>
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The data</h2>
<p>First let’s load some packages</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/davidissamattos/bpcs">bpcs</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-gregmisc/gtools">gtools</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/rstan">rstan</a></span><span class="op">)</span>
<span class="co">#Stan should use parallel cores</span>
<span class="co"># options(mc.cores = parallel::detectCores()) #use multiple cores</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>mc.cores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="co">#CRAN works only with max 2 cores</span>
<span class="fu">rstan</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/rstan/reference/rstan_options.html">rstan_options</a></span><span class="op">(</span>auto_write <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>The collected data is available as:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"optimization_algorithms"</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">optimization_algorithms</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
             caption <span class="op">=</span> <span class="st">"Sample of the data set"</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>
Sample of the data set
</caption>
<thead><tr>
<th style="text-align:left;">
Algorithm
</th>
<th style="text-align:left;">
Benchmark
</th>
<th style="text-align:right;">
TrueRewardDifference
</th>
<th style="text-align:right;">
Ndimensions
</th>
<th style="text-align:right;">
MaxFevalPerDimensions
</th>
<th style="text-align:right;">
simNumber
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
NelderMead
</td>
<td style="text-align:left;">
Schwefel2d26N6
</td>
<td style="text-align:right;">
1588.6152937
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
<td style="text-align:left;">
SphereN6
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
NelderMead
</td>
<td style="text-align:left;">
ZakharovN2
</td>
<td style="text-align:right;">
1809.6181784
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
SimulatedAnnealing
</td>
<td style="text-align:left;">
ChenV
</td>
<td style="text-align:right;">
2000.0000000
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution
</td>
<td style="text-align:left;">
Giunta
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution
</td>
<td style="text-align:left;">
SalomonN2
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
NelderMead
</td>
<td style="text-align:left;">
Schwefel2d4N6
</td>
<td style="text-align:right;">
2195.4363269
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
SimulatedAnnealing
</td>
<td style="text-align:left;">
ChenV
</td>
<td style="text-align:right;">
2000.0000000
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:left;">
Mishra7N6
</td>
<td style="text-align:right;">
123.6993501
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution
</td>
<td style="text-align:left;">
StrechedVSineWave2N
</td>
<td style="text-align:right;">
0.0014892
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
CMAES
</td>
<td style="text-align:left;">
ChenBird
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
SimulatedAnnealing
</td>
<td style="text-align:left;">
Schwefel2d20N2
</td>
<td style="text-align:right;">
30.9821851
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:left;">
QingN2
</td>
<td style="text-align:right;">
0.0518257
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
<td style="text-align:left;">
SalomonN2
</td>
<td style="text-align:right;">
0.0000144
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:left;">
Giunta
</td>
<td style="text-align:right;">
0.0000047
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
CMAES
</td>
<td style="text-align:left;">
Schwefel2d26N6
</td>
<td style="text-align:right;">
710.6300061
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
NelderMead
</td>
<td style="text-align:left;">
Schwefel2d20N2
</td>
<td style="text-align:right;">
3.7666585
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
NelderMead
</td>
<td style="text-align:left;">
Schwefel2d21N6
</td>
<td style="text-align:right;">
22.8662930
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
CMAES
</td>
<td style="text-align:left;">
Mishra7N6
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
SimulatedAnnealing
</td>
<td style="text-align:left;">
Schwefel2d21N6
</td>
<td style="text-align:right;">
21.5222433
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1e+05
</td>
<td style="text-align:right;">
7
</td>
</tr>
</tbody>
</table>
<p>In this dataset, we have one main metrics that we can use to compare the algorithms. The <code>TrueRewardDifference</code> is the difference between the minimum found by the algorithm and the global minimum of the benchmark function. <code>simNumber</code> indicates the number of the replication of the same algorithm in the same benchmark function (but with different seeds). All algorithms had a budget of 10,000 function evaluations per number of dimensions for each benchmark function.</p>
<p>Here we have the following benchmark functions:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">optimization_algorithms</span><span class="op">$</span><span class="va">Benchmark</span><span class="op">)</span>
<span class="va">nbm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">bm</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">bm</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning in matrix(bm, ncol = 4): data length [30] is not a sub-multiple or</span>
<span class="co">#&gt; multiple of the number of rows [8]</span></code></pre></div>
<table class="table"><tbody>
<tr>
<td style="text-align:left;">
BentCigarN6
</td>
<td style="text-align:left;">
LunacekBiRastriginN6
</td>
<td style="text-align:left;">
Schwefel2d21N6
</td>
<td style="text-align:left;">
Trefethen
</td>
</tr>
<tr>
<td style="text-align:left;">
ChenBird
</td>
<td style="text-align:left;">
Mishra7N6
</td>
<td style="text-align:left;">
Schwefel2d23N6
</td>
<td style="text-align:left;">
Trigonometric1N6
</td>
</tr>
<tr>
<td style="text-align:left;">
ChenV
</td>
<td style="text-align:left;">
PinterN6
</td>
<td style="text-align:left;">
Schwefel2d26N6
</td>
<td style="text-align:left;">
Tripod
</td>
</tr>
<tr>
<td style="text-align:left;">
ChungReynoldsN2
</td>
<td style="text-align:left;">
Price1
</td>
<td style="text-align:left;">
Schwefel2d4N6
</td>
<td style="text-align:left;">
WhitleyN6
</td>
</tr>
<tr>
<td style="text-align:left;">
Damavandi
</td>
<td style="text-align:left;">
QingN2
</td>
<td style="text-align:left;">
Shubert
</td>
<td style="text-align:left;">
XinSheYang2N2
</td>
</tr>
<tr>
<td style="text-align:left;">
DiscusN2
</td>
<td style="text-align:left;">
RosenbrockRotatedN6
</td>
<td style="text-align:left;">
SphereN6
</td>
<td style="text-align:left;">
ZakharovN2
</td>
</tr>
<tr>
<td style="text-align:left;">
ExponentialN2
</td>
<td style="text-align:left;">
SalomonN2
</td>
<td style="text-align:left;">
StrechedVSineWave2N
</td>
<td style="text-align:left;">
BentCigarN6
</td>
</tr>
<tr>
<td style="text-align:left;">
Giunta
</td>
<td style="text-align:left;">
Schwefel2d20N2
</td>
<td style="text-align:left;">
ThreeHumpCamelBack
</td>
<td style="text-align:left;">
ChenBird
</td>
</tr>
</tbody></table>
<p>To reduce a bit the model sampling time here lets reduce the number of benchmark functions and only use 10 of them.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">bm_reduced</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, x <span class="op">=</span> <span class="va">bm</span>, replace <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="va">optimization_algorithms</span> <span class="op">&lt;-</span> <span class="va">optimization_algorithms</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Benchmark</span> <span class="op">%in%</span> <span class="va">bm_reduced</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">bm_reduced</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table"><tbody>
<tr>
<td style="text-align:left;">
Trefethen
</td>
<td style="text-align:left;">
StrechedVSineWave2N
</td>
</tr>
<tr>
<td style="text-align:left;">
ChungReynoldsN2
</td>
<td style="text-align:left;">
PinterN6
</td>
</tr>
<tr>
<td style="text-align:left;">
ExponentialN2
</td>
<td style="text-align:left;">
RosenbrockRotatedN6
</td>
</tr>
<tr>
<td style="text-align:left;">
BentCigarN6
</td>
<td style="text-align:left;">
Schwefel2d23N6
</td>
</tr>
<tr>
<td style="text-align:left;">
ChenBird
</td>
<td style="text-align:left;">
Schwefel2d26N6
</td>
</tr>
</tbody></table>
<p>Here we have the optimization algorithms:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">alg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">optimization_algorithms</span><span class="op">$</span><span class="va">Algorithm</span><span class="op">)</span>
<span class="va">nalg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">alg</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">alg</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
x
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
NelderMead
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
</tr>
<tr>
<td style="text-align:left;">
SimulatedAnnealing
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
</tr>
<tr>
<td style="text-align:left;">
CMAES
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="preparing-the-data" class="section level1">
<h1 class="hasAnchor">
<a href="#preparing-the-data" class="anchor"></a>Preparing the data</h1>
<p>To analyze this data we first need to convert it to a paired comparison. We will do it in the following way:</p>
<ol style="list-style-type: decimal">
<li>First we group and rank the algorithms for each benchmark function in each simNumber. If there are ties (not very likely in this case) we will solve them randomly</li>
<li>We expand this dataset into a wide format in the ranks. Each new column will contain the rank of the algorithms</li>
<li>We expand this wide format to a long format with each of the paired comparisons.</li>
</ol>
<p>To compute all the paired combinations between the algorithms we will use the <code>gtools::comb</code> function</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">comb</span> <span class="op">&lt;-</span> <span class="fu">gtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gtools/man/combinations.html">combinations</a></span><span class="op">(</span>n<span class="op">=</span><span class="va">nalg</span>, r<span class="op">=</span><span class="fl">2</span>, v<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">nalg</span><span class="op">)</span>, repeats.allowed <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></code></pre></div>
<p>Creating the dataset</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#1 Grouping and ranking</span>
<span class="va">df_1</span> <span class="op">&lt;-</span>
  <span class="va">optimization_algorithms</span> <span class="op">%&gt;%</span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Benchmark</span>, <span class="va">simNumber</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>rankReward <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="va">TrueRewardDifference</span>, ties.method <span class="op">=</span> <span class="st">'random'</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">TrueRewardDifference</span><span class="op">)</span>

<span class="co">#2 Expanding in wide format</span>
<span class="va">df_2</span> <span class="op">&lt;-</span> <span class="va">df_1</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">Algorithm</span>,
                     values_from <span class="op">=</span> <span class="va">rankReward</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">MaxFevalPerDimensions</span>,<span class="op">-</span><span class="va">Ndimensions</span><span class="op">)</span> <span class="co">#dropping some variables that we will not use</span>

<span class="co">#3 Computing the paired comparisons</span>
<span class="co">## Maybe not the most efficient code, but for this number of variables it is fast enough, only a few seconds...</span>
<span class="co">#We first go row by row of the wide data frame df_2 and expand each row into the number of combinations</span>
<span class="co">#available of the different ranks</span>
<span class="va">df_3</span> <span class="op">&lt;-</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">algo0_name</span>, <span class="op">~</span> <span class="va">algo1_name</span>, <span class="op">~</span> <span class="va">y</span>, <span class="op">~</span> <span class="va">simNumber</span>, <span class="op">~</span> <span class="va">Benchmark</span><span class="op">)</span>

<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df_2</span><span class="op">)</span><span class="op">)</span>
<span class="op">{</span>
  <span class="va">current_row</span> <span class="op">&lt;-</span> <span class="va">df_2</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span>
  <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">comb</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">comb_row</span> <span class="op">&lt;-</span> <span class="va">comb</span><span class="op">[</span><span class="va">j</span>, <span class="op">]</span>
    
    <span class="va">algo0_name</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">[</span><span class="va">comb_row</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
    <span class="va">algo0</span> <span class="op">&lt;-</span> <span class="va">comb_row</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
    <span class="va">algo0_rank</span> <span class="op">&lt;-</span> <span class="va">current_row</span><span class="op">[[</span><span class="fl">1</span>, <span class="va">algo0_name</span><span class="op">]</span><span class="op">]</span>
    
    <span class="va">algo1_name</span> <span class="op">&lt;-</span> <span class="va">alg</span><span class="op">[</span><span class="va">comb_row</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>
    <span class="va">algo1</span> <span class="op">&lt;-</span> <span class="va">comb_row</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
    <span class="va">algo1_rank</span> <span class="op">&lt;-</span> <span class="va">current_row</span><span class="op">[[</span><span class="fl">1</span>, <span class="va">algo1_name</span><span class="op">]</span><span class="op">]</span>
    
    <span class="va">diff_rank</span> <span class="op">&lt;-</span> <span class="va">algo1_rank</span> <span class="op">-</span> <span class="va">algo0_rank</span>
    <span class="va">y</span> <span class="op">&lt;-</span>
      <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">diff_rank</span> <span class="op">&lt;</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="co"># if rank0 is higher than rank1, algo1 wins</span>
    <span class="va">df_3</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_row</a></span><span class="op">(</span>
      <span class="va">df_3</span>,
      algo0_name <span class="op">=</span> <span class="va">algo0_name</span>,
      algo1_name <span class="op">=</span> <span class="va">algo1_name</span>,
      y <span class="op">=</span> <span class="va">y</span>,
      simNumber <span class="op">=</span> <span class="va">current_row</span><span class="op">$</span><span class="va">simNumber</span>,
      Benchmark <span class="op">=</span> <span class="va">current_row</span><span class="op">$</span><span class="va">Benchmark</span>
    <span class="op">)</span>
  <span class="op">}</span>
<span class="op">}</span>
<span class="va">df_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">df_3</span><span class="op">)</span></code></pre></div>
<p>The table below shows how the dataset looks like now.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="va">df_3</span>,size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>
<span class="co">#&gt;               algo0_name            algo1_name y simNumber           Benchmark</span>
<span class="co">#&gt; 1  DifferentialEvolution                 CMAES 1         7         BentCigarN6</span>
<span class="co">#&gt; 2          RandomSearch1                 CMAES 1         2       ExponentialN2</span>
<span class="co">#&gt; 3             NelderMead         RandomSearch1 1         7         BentCigarN6</span>
<span class="co">#&gt; 4                    PSO                 CMAES 1         4       ExponentialN2</span>
<span class="co">#&gt; 5  DifferentialEvolution                 CMAES 1         5       ExponentialN2</span>
<span class="co">#&gt; 6             NelderMead DifferentialEvolution 1         0 RosenbrockRotatedN6</span>
<span class="co">#&gt; 7             NelderMead                   PSO 1         4 RosenbrockRotatedN6</span>
<span class="co">#&gt; 8             NelderMead DifferentialEvolution 1         6     ChungReynoldsN2</span>
<span class="co">#&gt; 9             NelderMead DifferentialEvolution 1         3            PinterN6</span>
<span class="co">#&gt; 10         RandomSearch1                 CMAES 0         3      Schwefel2d26N6</span>
<span class="co">#&gt; 11         RandomSearch1                 CMAES 1         2         BentCigarN6</span>
<span class="co">#&gt; 12            NelderMead    SimulatedAnnealing 0         0      Schwefel2d23N6</span>
<span class="co">#&gt; 13                   PSO DifferentialEvolution 1         7         BentCigarN6</span>
<span class="co">#&gt; 14            NelderMead                   PSO 1         0      Schwefel2d26N6</span>
<span class="co">#&gt; 15    SimulatedAnnealing DifferentialEvolution 1         2      Schwefel2d23N6</span>
<span class="co">#&gt; 16    SimulatedAnnealing                 CMAES 1         4            ChenBird</span>
<span class="co">#&gt; 17    SimulatedAnnealing         RandomSearch1 1         7            ChenBird</span>
<span class="co">#&gt; 18                   PSO         RandomSearch1 0         0            ChenBird</span>
<span class="co">#&gt; 19                   PSO                 CMAES 1         8         BentCigarN6</span>
<span class="co">#&gt; 20                   PSO                 CMAES 1         1 RosenbrockRotatedN6</span></code></pre></div>
</div>
<div id="the-model" class="section level1">
<h1 class="hasAnchor">
<a href="#the-model" class="anchor"></a>The model</h1>
<p>To compensate for the repeated measures model we will use the random effects model. The model can be written as:</p>
<p>For the benchmark <span class="math inline">\(k\)</span> we have: <span class="math display">\[P[i \text{ beats } j  | U_k]= \dfrac{exp(\lambda_i + U_{i,k})}{exp(\lambda_i + U_{i,k}) + exp(\lambda_j + U_{j,k})}\]</span></p>
<p><span class="math display">\[\lambda \sim \text{Normal}(0,3.0)\]</span> <span class="math display">\[U \sim \text{Normal}(0,3.0)\]</span></p>
<p>Now we can estimate and control the effect of each benchmark in each algorithm when we estimate the ability parameter. This model will estimate the parameters <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(U\)</span> of the model. Note that the model with many parameters and data points might take a few minutes to sample.</p>
<p>Lets also specify a wide prior for the standard deviation of the random effects. This will help the convergence</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/bpc.html">bpc</a></span><span class="op">(</span>
    data <span class="op">=</span> <span class="va">df_3</span>,
    player0 <span class="op">=</span> <span class="st">'algo0_name'</span>,
    player1 <span class="op">=</span> <span class="st">'algo1_name'</span>,
    result_column <span class="op">=</span> <span class="st">'y'</span>,
    cluster <span class="op">=</span> <span class="st">'Benchmark'</span>,
    model_type <span class="op">=</span> <span class="st">'bt-U'</span>,
    priors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>prior_U1_std <span class="op">=</span> <span class="fl">10.0</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div id="diagnostics" class="section level2">
<h2 class="hasAnchor">
<a href="#diagnostics" class="anchor"></a>Diagnostics</h2>
<p>First let’s look at the MCMC convergence with the traceplots and look at the Rhat and neff</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stanfit</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/get_stanfit.html">get_stanfit</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="co">#&gt; Estimated baseline parameters with HPD intervals:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Table: Parameters estimates</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter                                         Mean   HPD_lower   HPD_higher</span>
<span class="co">#&gt; ----------------------------------------------  ------  ----------  -----------</span>
<span class="co">#&gt; lambda[NelderMead]                               -6.15       -9.20        -2.94</span>
<span class="co">#&gt; lambda[PSO]                                       1.94       -1.07         5.03</span>
<span class="co">#&gt; lambda[SimulatedAnnealing]                       -3.56       -6.57        -0.32</span>
<span class="co">#&gt; lambda[DifferentialEvolution]                     6.29        3.30         9.49</span>
<span class="co">#&gt; lambda[RandomSearch1]                            -1.00       -4.22         1.97</span>
<span class="co">#&gt; lambda[CMAES]                                     2.59       -0.42         5.78</span>
<span class="co">#&gt; U1_std                                            3.26        2.29         4.37</span>
<span class="co">#&gt; U1[NelderMead,BentCigarN6]                        1.01       -0.46         2.36</span>
<span class="co">#&gt; U1[PSO,BentCigarN6]                              -0.15       -1.06         1.19</span>
<span class="co">#&gt; U1[SimulatedAnnealing,BentCigarN6]                0.31       -0.87         1.34</span>
<span class="co">#&gt; U1[DifferentialEvolution,BentCigarN6]             0.67       -0.94         1.50</span>
<span class="co">#&gt; U1[RandomSearch1,BentCigarN6]                    -0.16       -0.75         1.49</span>
<span class="co">#&gt; U1[CMAES,BentCigarN6]                             0.37       -3.27        -0.64</span>
<span class="co">#&gt; U1[NelderMead,ChenBird]                           0.12       -1.22         0.98</span>
<span class="co">#&gt; U1[PSO,ChenBird]                                 -0.79       -0.98         1.37</span>
<span class="co">#&gt; U1[SimulatedAnnealing,ChenBird]                   0.14       -0.15         2.07</span>
<span class="co">#&gt; U1[DifferentialEvolution,ChenBird]                0.65       -0.96         1.53</span>
<span class="co">#&gt; U1[RandomSearch1,ChenBird]                        0.07       -0.54         1.65</span>
<span class="co">#&gt; U1[CMAES,ChenBird]                                0.21       -3.30        -0.59</span>
<span class="co">#&gt; U1[NelderMead,ChungReynoldsN2]                   -0.06       -0.85         1.62</span>
<span class="co">#&gt; U1[PSO,ChungReynoldsN2]                           0.05       -1.26         1.03</span>
<span class="co">#&gt; U1[SimulatedAnnealing,ChungReynoldsN2]           -0.08       -0.22         2.17</span>
<span class="co">#&gt; U1[DifferentialEvolution,ChungReynoldsN2]        -0.17       -2.47         0.40</span>
<span class="co">#&gt; U1[RandomSearch1,ChungReynoldsN2]                 0.12       -0.88         1.50</span>
<span class="co">#&gt; U1[CMAES,ChungReynoldsN2]                         0.96       -1.65         0.65</span>
<span class="co">#&gt; U1[NelderMead,ExponentialN2]                     -0.63       -0.73         2.22</span>
<span class="co">#&gt; U1[PSO,ExponentialN2]                            -1.09       -1.03         1.05</span>
<span class="co">#&gt; U1[SimulatedAnnealing,ExponentialN2]              0.27       -1.42         0.74</span>
<span class="co">#&gt; U1[DifferentialEvolution,ExponentialN2]           0.97       -0.85         1.46</span>
<span class="co">#&gt; U1[RandomSearch1,ExponentialN2]                   0.97       -1.01         1.17</span>
<span class="co">#&gt; U1[CMAES,ExponentialN2]                          -0.39       -1.90         0.38</span>
<span class="co">#&gt; U1[NelderMead,PinterN6]                          -0.53       -1.34         0.96</span>
<span class="co">#&gt; U1[PSO,PinterN6]                                  0.35       -1.25         0.95</span>
<span class="co">#&gt; U1[SimulatedAnnealing,PinterN6]                   1.35       -1.60         0.47</span>
<span class="co">#&gt; U1[DifferentialEvolution,PinterN6]               -0.05       -2.06         0.96</span>
<span class="co">#&gt; U1[RandomSearch1,PinterN6]                       -0.74       -1.02         0.98</span>
<span class="co">#&gt; U1[CMAES,PinterN6]                               -0.88        0.33         2.52</span>
<span class="co">#&gt; U1[NelderMead,RosenbrockRotatedN6]                0.26       -0.87         1.61</span>
<span class="co">#&gt; U1[PSO,RosenbrockRotatedN6]                       0.34       -1.31         1.00</span>
<span class="co">#&gt; U1[SimulatedAnnealing,RosenbrockRotatedN6]       -0.95       -0.81         1.41</span>
<span class="co">#&gt; U1[DifferentialEvolution,RosenbrockRotatedN6]     0.37       -1.31         1.07</span>
<span class="co">#&gt; U1[RandomSearch1,RosenbrockRotatedN6]            -0.57       -0.70         1.57</span>
<span class="co">#&gt; U1[CMAES,RosenbrockRotatedN6]                    -0.15       -1.88         0.46</span>
<span class="co">#&gt; U1[NelderMead,Schwefel2d23N6]                    -1.09       -1.14         1.27</span>
<span class="co">#&gt; U1[PSO,Schwefel2d23N6]                            0.26       -1.15         1.25</span>
<span class="co">#&gt; U1[SimulatedAnnealing,Schwefel2d23N6]            -0.88        0.19         2.64</span>
<span class="co">#&gt; U1[DifferentialEvolution,Schwefel2d23N6]          0.10       -2.49         0.30</span>
<span class="co">#&gt; U1[RandomSearch1,Schwefel2d23N6]                  0.38       -0.82         1.50</span>
<span class="co">#&gt; U1[CMAES,Schwefel2d23N6]                          0.59       -1.99         0.44</span>
<span class="co">#&gt; U1[NelderMead,Schwefel2d26N6]                     0.28       -1.88         0.29</span>
<span class="co">#&gt; U1[PSO,Schwefel2d26N6]                            0.07       -0.14         1.94</span>
<span class="co">#&gt; U1[SimulatedAnnealing,Schwefel2d26N6]            -0.04       -1.08         1.00</span>
<span class="co">#&gt; U1[DifferentialEvolution,Schwefel2d26N6]          0.37       -1.01         1.34</span>
<span class="co">#&gt; U1[RandomSearch1,Schwefel2d26N6]                  0.36       -2.08         0.06</span>
<span class="co">#&gt; U1[CMAES,Schwefel2d26N6]                         -1.05       -0.41         1.69</span>
<span class="co">#&gt; U1[NelderMead,StrechedVSineWave2N]               -0.21       -1.05         1.26</span>
<span class="co">#&gt; U1[PSO,StrechedVSineWave2N]                      -0.24       -1.80         0.59</span>
<span class="co">#&gt; U1[SimulatedAnnealing,StrechedVSineWave2N]       -1.99       -1.89         0.40</span>
<span class="co">#&gt; U1[DifferentialEvolution,StrechedVSineWave2N]    -1.95       -2.40         0.58</span>
<span class="co">#&gt; U1[RandomSearch1,StrechedVSineWave2N]            -0.53       -1.25         0.91</span>
<span class="co">#&gt; U1[CMAES,StrechedVSineWave2N]                    -0.82        1.21         3.60</span>
<span class="co">#&gt; U1[NelderMead,Trefethen]                          1.41       -0.77         2.24</span>
<span class="co">#&gt; U1[PSO,Trefethen]                                -0.77       -2.39         0.03</span>
<span class="co">#&gt; U1[SimulatedAnnealing,Trefethen]                 -0.80       -1.93         0.27</span>
<span class="co">#&gt; U1[DifferentialEvolution,Trefethen]               0.67       -1.10         1.34</span>
<span class="co">#&gt; U1[RandomSearch1,Trefethen]                       2.35       -1.24         0.83</span>
<span class="co">#&gt; U1[CMAES,Trefethen]                               1.49        0.36         2.67</span>
<span class="co">#&gt; NOTES:</span>
<span class="co">#&gt; * A higher lambda indicates a higher team ability</span>
<span class="co">#&gt; * The U_std indicates the standard deviation of the normal distribution where the parameters U[player, cluster] are drawn from. Higher values of U_std indicates a higher effect of the cluster in the team abitilies.</span>
<span class="co">#&gt; * The U[player, cluster] represents the effect of a particular cluster in a particular team ability.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rank of the players' abilities:</span>
<span class="co">#&gt; The rank is based on the posterior rank distribution of the lambda parameter</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Table: Estimated posterior ranks</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter                        MedianRank   MeanRank   StdRank</span>
<span class="co">#&gt; ------------------------------  -----------  ---------  --------</span>
<span class="co">#&gt; lambda[DifferentialEvolution]             1       1.01      0.10</span>
<span class="co">#&gt; lambda[CMAES]                             2       2.32      0.50</span>
<span class="co">#&gt; lambda[PSO]                               3       2.70      0.51</span>
<span class="co">#&gt; lambda[RandomSearch1]                     4       4.01      0.28</span>
<span class="co">#&gt; lambda[SimulatedAnnealing]                5       4.99      0.26</span>
<span class="co">#&gt; lambda[NelderMead]                        6       5.97      0.17</span></code></pre></div>
<p>All seems ok! Let’s look now at the traceplots</p>
<p>Traceplots of the chains with the bayesplot library</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/bayesplot/">bayesplot</a></span><span class="op">)</span>
<span class="co">#&gt; This is bayesplot version 1.8.0</span>
<span class="co">#&gt; - Online documentation and vignettes at mc-stan.org/bayesplot</span>
<span class="co">#&gt; - bayesplot theme set to bayesplot::theme_default()</span>
<span class="co">#&gt;    * Does _not_ affect other ggplot2 plots</span>
<span class="co">#&gt;    * See ?bayesplot_theme_set for details on theme setting</span>
<span class="va">posterior</span> <span class="op">&lt;-</span> <span class="fu">rstan</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/rstan/reference/stanfit-method-extract.html">extract</a></span><span class="op">(</span><span class="va">stanfit</span>, inc_warmup <span class="op">=</span> <span class="cn">T</span>, permuted <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="fu">bayesplot</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/MCMC-traces.html">mcmc_trace</a></span><span class="op">(</span>
  <span class="va">posterior</span>,
  pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"lambda[1]"</span>,
    <span class="st">"lambda[2]"</span>,
    <span class="st">"lambda[3]"</span>,
    <span class="st">"lambda[4]"</span>,
    <span class="st">"lambda[5]"</span>,
    <span class="st">"lambda[6]"</span>,
    <span class="st">"U1_std"</span>
  <span class="op">)</span>,
  n_warmup <span class="op">=</span> <span class="fl">1000</span>
<span class="op">)</span></code></pre></div>
<p><img src="c_bt_random_effects_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Everything seems in order for us to look at the predictive posterior bar plot.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">y_pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/posterior_predictive.html">posterior_predictive</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y_pp</span><span class="op">$</span><span class="va">y</span>
<span class="va">yrep</span> <span class="op">&lt;-</span> <span class="va">y_pp</span><span class="op">$</span><span class="va">y_pred</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">bayesplot</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/PPC-discrete.html">ppc_bars</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">df_3</span><span class="op">$</span><span class="va">y</span>, yrep <span class="op">=</span> <span class="va">yrep</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Bar plot with medians and uncertainty\n intervals superimposed'</span><span class="op">)</span></code></pre></div>
<p><img src="c_bt_random_effects_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>This sounds ok. So let’s investigate the actual parameters and the probabilities of the models</p>
</div>
<div id="summary-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-parameters" class="anchor"></a>Summary parameters</h2>
<p>In the console, we can use the summary function. It gives the parameters estimates with HPDI, the probability table for every condition of players and benchmarks and we also have a rank estimate.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="co">#&gt; Estimated baseline parameters with HPD intervals:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Table: Parameters estimates</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter                                         Mean   HPD_lower   HPD_higher</span>
<span class="co">#&gt; ----------------------------------------------  ------  ----------  -----------</span>
<span class="co">#&gt; lambda[NelderMead]                               -6.15       -9.20        -2.94</span>
<span class="co">#&gt; lambda[PSO]                                       1.94       -1.07         5.03</span>
<span class="co">#&gt; lambda[SimulatedAnnealing]                       -3.56       -6.57        -0.32</span>
<span class="co">#&gt; lambda[DifferentialEvolution]                     6.29        3.30         9.49</span>
<span class="co">#&gt; lambda[RandomSearch1]                            -1.00       -4.22         1.97</span>
<span class="co">#&gt; lambda[CMAES]                                     2.59       -0.42         5.78</span>
<span class="co">#&gt; U1_std                                            3.26        2.29         4.37</span>
<span class="co">#&gt; U1[NelderMead,BentCigarN6]                        1.01       -0.46         2.36</span>
<span class="co">#&gt; U1[PSO,BentCigarN6]                              -0.15       -1.06         1.19</span>
<span class="co">#&gt; U1[SimulatedAnnealing,BentCigarN6]                0.31       -0.87         1.34</span>
<span class="co">#&gt; U1[DifferentialEvolution,BentCigarN6]             0.67       -0.94         1.50</span>
<span class="co">#&gt; U1[RandomSearch1,BentCigarN6]                    -0.16       -0.75         1.49</span>
<span class="co">#&gt; U1[CMAES,BentCigarN6]                             0.37       -3.27        -0.64</span>
<span class="co">#&gt; U1[NelderMead,ChenBird]                           0.12       -1.22         0.98</span>
<span class="co">#&gt; U1[PSO,ChenBird]                                 -0.79       -0.98         1.37</span>
<span class="co">#&gt; U1[SimulatedAnnealing,ChenBird]                   0.14       -0.15         2.07</span>
<span class="co">#&gt; U1[DifferentialEvolution,ChenBird]                0.65       -0.96         1.53</span>
<span class="co">#&gt; U1[RandomSearch1,ChenBird]                        0.07       -0.54         1.65</span>
<span class="co">#&gt; U1[CMAES,ChenBird]                                0.21       -3.30        -0.59</span>
<span class="co">#&gt; U1[NelderMead,ChungReynoldsN2]                   -0.06       -0.85         1.62</span>
<span class="co">#&gt; U1[PSO,ChungReynoldsN2]                           0.05       -1.26         1.03</span>
<span class="co">#&gt; U1[SimulatedAnnealing,ChungReynoldsN2]           -0.08       -0.22         2.17</span>
<span class="co">#&gt; U1[DifferentialEvolution,ChungReynoldsN2]        -0.17       -2.47         0.40</span>
<span class="co">#&gt; U1[RandomSearch1,ChungReynoldsN2]                 0.12       -0.88         1.50</span>
<span class="co">#&gt; U1[CMAES,ChungReynoldsN2]                         0.96       -1.65         0.65</span>
<span class="co">#&gt; U1[NelderMead,ExponentialN2]                     -0.63       -0.73         2.22</span>
<span class="co">#&gt; U1[PSO,ExponentialN2]                            -1.09       -1.03         1.05</span>
<span class="co">#&gt; U1[SimulatedAnnealing,ExponentialN2]              0.27       -1.42         0.74</span>
<span class="co">#&gt; U1[DifferentialEvolution,ExponentialN2]           0.97       -0.85         1.46</span>
<span class="co">#&gt; U1[RandomSearch1,ExponentialN2]                   0.97       -1.01         1.17</span>
<span class="co">#&gt; U1[CMAES,ExponentialN2]                          -0.39       -1.90         0.38</span>
<span class="co">#&gt; U1[NelderMead,PinterN6]                          -0.53       -1.34         0.96</span>
<span class="co">#&gt; U1[PSO,PinterN6]                                  0.35       -1.25         0.95</span>
<span class="co">#&gt; U1[SimulatedAnnealing,PinterN6]                   1.35       -1.60         0.47</span>
<span class="co">#&gt; U1[DifferentialEvolution,PinterN6]               -0.05       -2.06         0.96</span>
<span class="co">#&gt; U1[RandomSearch1,PinterN6]                       -0.74       -1.02         0.98</span>
<span class="co">#&gt; U1[CMAES,PinterN6]                               -0.88        0.33         2.52</span>
<span class="co">#&gt; U1[NelderMead,RosenbrockRotatedN6]                0.26       -0.87         1.61</span>
<span class="co">#&gt; U1[PSO,RosenbrockRotatedN6]                       0.34       -1.31         1.00</span>
<span class="co">#&gt; U1[SimulatedAnnealing,RosenbrockRotatedN6]       -0.95       -0.81         1.41</span>
<span class="co">#&gt; U1[DifferentialEvolution,RosenbrockRotatedN6]     0.37       -1.31         1.07</span>
<span class="co">#&gt; U1[RandomSearch1,RosenbrockRotatedN6]            -0.57       -0.70         1.57</span>
<span class="co">#&gt; U1[CMAES,RosenbrockRotatedN6]                    -0.15       -1.88         0.46</span>
<span class="co">#&gt; U1[NelderMead,Schwefel2d23N6]                    -1.09       -1.14         1.27</span>
<span class="co">#&gt; U1[PSO,Schwefel2d23N6]                            0.26       -1.15         1.25</span>
<span class="co">#&gt; U1[SimulatedAnnealing,Schwefel2d23N6]            -0.88        0.19         2.64</span>
<span class="co">#&gt; U1[DifferentialEvolution,Schwefel2d23N6]          0.10       -2.49         0.30</span>
<span class="co">#&gt; U1[RandomSearch1,Schwefel2d23N6]                  0.38       -0.82         1.50</span>
<span class="co">#&gt; U1[CMAES,Schwefel2d23N6]                          0.59       -1.99         0.44</span>
<span class="co">#&gt; U1[NelderMead,Schwefel2d26N6]                     0.28       -1.88         0.29</span>
<span class="co">#&gt; U1[PSO,Schwefel2d26N6]                            0.07       -0.14         1.94</span>
<span class="co">#&gt; U1[SimulatedAnnealing,Schwefel2d26N6]            -0.04       -1.08         1.00</span>
<span class="co">#&gt; U1[DifferentialEvolution,Schwefel2d26N6]          0.37       -1.01         1.34</span>
<span class="co">#&gt; U1[RandomSearch1,Schwefel2d26N6]                  0.36       -2.08         0.06</span>
<span class="co">#&gt; U1[CMAES,Schwefel2d26N6]                         -1.05       -0.41         1.69</span>
<span class="co">#&gt; U1[NelderMead,StrechedVSineWave2N]               -0.21       -1.05         1.26</span>
<span class="co">#&gt; U1[PSO,StrechedVSineWave2N]                      -0.24       -1.80         0.59</span>
<span class="co">#&gt; U1[SimulatedAnnealing,StrechedVSineWave2N]       -1.99       -1.89         0.40</span>
<span class="co">#&gt; U1[DifferentialEvolution,StrechedVSineWave2N]    -1.95       -2.40         0.58</span>
<span class="co">#&gt; U1[RandomSearch1,StrechedVSineWave2N]            -0.53       -1.25         0.91</span>
<span class="co">#&gt; U1[CMAES,StrechedVSineWave2N]                    -0.82        1.21         3.60</span>
<span class="co">#&gt; U1[NelderMead,Trefethen]                          1.41       -0.77         2.24</span>
<span class="co">#&gt; U1[PSO,Trefethen]                                -0.77       -2.39         0.03</span>
<span class="co">#&gt; U1[SimulatedAnnealing,Trefethen]                 -0.80       -1.93         0.27</span>
<span class="co">#&gt; U1[DifferentialEvolution,Trefethen]               0.67       -1.10         1.34</span>
<span class="co">#&gt; U1[RandomSearch1,Trefethen]                       2.35       -1.24         0.83</span>
<span class="co">#&gt; U1[CMAES,Trefethen]                               1.49        0.36         2.67</span>
<span class="co">#&gt; NOTES:</span>
<span class="co">#&gt; * A higher lambda indicates a higher team ability</span>
<span class="co">#&gt; * The U_std indicates the standard deviation of the normal distribution where the parameters U[player, cluster] are drawn from. Higher values of U_std indicates a higher effect of the cluster in the team abitilies.</span>
<span class="co">#&gt; * The U[player, cluster] represents the effect of a particular cluster in a particular team ability.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rank of the players' abilities:</span>
<span class="co">#&gt; The rank is based on the posterior rank distribution of the lambda parameter</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Table: Estimated posterior ranks</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter                        MedianRank   MeanRank   StdRank</span>
<span class="co">#&gt; ------------------------------  -----------  ---------  --------</span>
<span class="co">#&gt; lambda[DifferentialEvolution]             1       1.02      0.14</span>
<span class="co">#&gt; lambda[CMAES]                             2       2.34      0.51</span>
<span class="co">#&gt; lambda[PSO]                               3       2.67      0.51</span>
<span class="co">#&gt; lambda[RandomSearch1]                     4       4.03      0.28</span>
<span class="co">#&gt; lambda[SimulatedAnnealing]                5       4.98      0.29</span>
<span class="co">#&gt; lambda[NelderMead]                        6       5.97      0.18</span></code></pre></div>
<p>Of course we can get these estimates in nicer tables with kable that allows a greater deal of customization</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_parameters_table.html">get_parameters_table</a></span><span class="op">(</span><span class="va">m</span>, format <span class="op">=</span> <span class="st">'html'</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>
Parameters estimates
</caption>
<thead><tr>
<th style="text-align:left;">
Parameter
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
HPD_lower
</th>
<th style="text-align:right;">
HPD_higher
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
lambda[NelderMead]
</td>
<td style="text-align:right;">
-6.153
</td>
<td style="text-align:right;">
-9.204
</td>
<td style="text-align:right;">
-2.936
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[PSO]
</td>
<td style="text-align:right;">
1.942
</td>
<td style="text-align:right;">
-1.066
</td>
<td style="text-align:right;">
5.026
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[SimulatedAnnealing]
</td>
<td style="text-align:right;">
-3.556
</td>
<td style="text-align:right;">
-6.575
</td>
<td style="text-align:right;">
-0.318
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[DifferentialEvolution]
</td>
<td style="text-align:right;">
6.286
</td>
<td style="text-align:right;">
3.300
</td>
<td style="text-align:right;">
9.485
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[RandomSearch1]
</td>
<td style="text-align:right;">
-0.999
</td>
<td style="text-align:right;">
-4.220
</td>
<td style="text-align:right;">
1.974
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[CMAES]
</td>
<td style="text-align:right;">
2.586
</td>
<td style="text-align:right;">
-0.421
</td>
<td style="text-align:right;">
5.785
</td>
</tr>
<tr>
<td style="text-align:left;">
U1_std
</td>
<td style="text-align:right;">
3.257
</td>
<td style="text-align:right;">
2.290
</td>
<td style="text-align:right;">
4.366
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,BentCigarN6]
</td>
<td style="text-align:right;">
1.014
</td>
<td style="text-align:right;">
-0.457
</td>
<td style="text-align:right;">
2.364
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,BentCigarN6]
</td>
<td style="text-align:right;">
-0.149
</td>
<td style="text-align:right;">
-1.057
</td>
<td style="text-align:right;">
1.192
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,BentCigarN6]
</td>
<td style="text-align:right;">
0.312
</td>
<td style="text-align:right;">
-0.874
</td>
<td style="text-align:right;">
1.342
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,BentCigarN6]
</td>
<td style="text-align:right;">
0.671
</td>
<td style="text-align:right;">
-0.937
</td>
<td style="text-align:right;">
1.500
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,BentCigarN6]
</td>
<td style="text-align:right;">
-0.163
</td>
<td style="text-align:right;">
-0.747
</td>
<td style="text-align:right;">
1.491
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,BentCigarN6]
</td>
<td style="text-align:right;">
0.367
</td>
<td style="text-align:right;">
-3.267
</td>
<td style="text-align:right;">
-0.640
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,ChenBird]
</td>
<td style="text-align:right;">
0.115
</td>
<td style="text-align:right;">
-1.225
</td>
<td style="text-align:right;">
0.984
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,ChenBird]
</td>
<td style="text-align:right;">
-0.793
</td>
<td style="text-align:right;">
-0.983
</td>
<td style="text-align:right;">
1.370
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,ChenBird]
</td>
<td style="text-align:right;">
0.139
</td>
<td style="text-align:right;">
-0.147
</td>
<td style="text-align:right;">
2.066
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,ChenBird]
</td>
<td style="text-align:right;">
0.652
</td>
<td style="text-align:right;">
-0.965
</td>
<td style="text-align:right;">
1.526
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,ChenBird]
</td>
<td style="text-align:right;">
0.072
</td>
<td style="text-align:right;">
-0.544
</td>
<td style="text-align:right;">
1.652
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,ChenBird]
</td>
<td style="text-align:right;">
0.209
</td>
<td style="text-align:right;">
-3.298
</td>
<td style="text-align:right;">
-0.589
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,ChungReynoldsN2]
</td>
<td style="text-align:right;">
-0.057
</td>
<td style="text-align:right;">
-0.854
</td>
<td style="text-align:right;">
1.623
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,ChungReynoldsN2]
</td>
<td style="text-align:right;">
0.054
</td>
<td style="text-align:right;">
-1.261
</td>
<td style="text-align:right;">
1.031
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,ChungReynoldsN2]
</td>
<td style="text-align:right;">
-0.077
</td>
<td style="text-align:right;">
-0.222
</td>
<td style="text-align:right;">
2.175
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,ChungReynoldsN2]
</td>
<td style="text-align:right;">
-0.173
</td>
<td style="text-align:right;">
-2.469
</td>
<td style="text-align:right;">
0.405
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,ChungReynoldsN2]
</td>
<td style="text-align:right;">
0.121
</td>
<td style="text-align:right;">
-0.881
</td>
<td style="text-align:right;">
1.503
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,ChungReynoldsN2]
</td>
<td style="text-align:right;">
0.961
</td>
<td style="text-align:right;">
-1.645
</td>
<td style="text-align:right;">
0.652
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,ExponentialN2]
</td>
<td style="text-align:right;">
-0.632
</td>
<td style="text-align:right;">
-0.729
</td>
<td style="text-align:right;">
2.220
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,ExponentialN2]
</td>
<td style="text-align:right;">
-1.093
</td>
<td style="text-align:right;">
-1.027
</td>
<td style="text-align:right;">
1.050
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,ExponentialN2]
</td>
<td style="text-align:right;">
0.267
</td>
<td style="text-align:right;">
-1.415
</td>
<td style="text-align:right;">
0.743
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,ExponentialN2]
</td>
<td style="text-align:right;">
0.974
</td>
<td style="text-align:right;">
-0.851
</td>
<td style="text-align:right;">
1.463
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,ExponentialN2]
</td>
<td style="text-align:right;">
0.972
</td>
<td style="text-align:right;">
-1.006
</td>
<td style="text-align:right;">
1.170
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,ExponentialN2]
</td>
<td style="text-align:right;">
-0.390
</td>
<td style="text-align:right;">
-1.901
</td>
<td style="text-align:right;">
0.377
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,PinterN6]
</td>
<td style="text-align:right;">
-0.534
</td>
<td style="text-align:right;">
-1.340
</td>
<td style="text-align:right;">
0.960
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,PinterN6]
</td>
<td style="text-align:right;">
0.346
</td>
<td style="text-align:right;">
-1.249
</td>
<td style="text-align:right;">
0.953
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,PinterN6]
</td>
<td style="text-align:right;">
1.352
</td>
<td style="text-align:right;">
-1.595
</td>
<td style="text-align:right;">
0.472
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,PinterN6]
</td>
<td style="text-align:right;">
-0.046
</td>
<td style="text-align:right;">
-2.060
</td>
<td style="text-align:right;">
0.957
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,PinterN6]
</td>
<td style="text-align:right;">
-0.739
</td>
<td style="text-align:right;">
-1.019
</td>
<td style="text-align:right;">
0.978
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,PinterN6]
</td>
<td style="text-align:right;">
-0.875
</td>
<td style="text-align:right;">
0.326
</td>
<td style="text-align:right;">
2.520
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,RosenbrockRotatedN6]
</td>
<td style="text-align:right;">
0.257
</td>
<td style="text-align:right;">
-0.869
</td>
<td style="text-align:right;">
1.608
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,RosenbrockRotatedN6]
</td>
<td style="text-align:right;">
0.341
</td>
<td style="text-align:right;">
-1.313
</td>
<td style="text-align:right;">
1.002
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,RosenbrockRotatedN6]
</td>
<td style="text-align:right;">
-0.947
</td>
<td style="text-align:right;">
-0.807
</td>
<td style="text-align:right;">
1.410
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,RosenbrockRotatedN6]
</td>
<td style="text-align:right;">
0.374
</td>
<td style="text-align:right;">
-1.312
</td>
<td style="text-align:right;">
1.067
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,RosenbrockRotatedN6]
</td>
<td style="text-align:right;">
-0.565
</td>
<td style="text-align:right;">
-0.698
</td>
<td style="text-align:right;">
1.572
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,RosenbrockRotatedN6]
</td>
<td style="text-align:right;">
-0.155
</td>
<td style="text-align:right;">
-1.879
</td>
<td style="text-align:right;">
0.455
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,Schwefel2d23N6]
</td>
<td style="text-align:right;">
-1.087
</td>
<td style="text-align:right;">
-1.141
</td>
<td style="text-align:right;">
1.271
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,Schwefel2d23N6]
</td>
<td style="text-align:right;">
0.264
</td>
<td style="text-align:right;">
-1.148
</td>
<td style="text-align:right;">
1.246
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,Schwefel2d23N6]
</td>
<td style="text-align:right;">
-0.883
</td>
<td style="text-align:right;">
0.190
</td>
<td style="text-align:right;">
2.643
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,Schwefel2d23N6]
</td>
<td style="text-align:right;">
0.105
</td>
<td style="text-align:right;">
-2.494
</td>
<td style="text-align:right;">
0.298
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,Schwefel2d23N6]
</td>
<td style="text-align:right;">
0.377
</td>
<td style="text-align:right;">
-0.820
</td>
<td style="text-align:right;">
1.503
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,Schwefel2d23N6]
</td>
<td style="text-align:right;">
0.591
</td>
<td style="text-align:right;">
-1.994
</td>
<td style="text-align:right;">
0.436
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,Schwefel2d26N6]
</td>
<td style="text-align:right;">
0.284
</td>
<td style="text-align:right;">
-1.875
</td>
<td style="text-align:right;">
0.293
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,Schwefel2d26N6]
</td>
<td style="text-align:right;">
0.071
</td>
<td style="text-align:right;">
-0.145
</td>
<td style="text-align:right;">
1.941
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,Schwefel2d26N6]
</td>
<td style="text-align:right;">
-0.041
</td>
<td style="text-align:right;">
-1.075
</td>
<td style="text-align:right;">
1.003
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,Schwefel2d26N6]
</td>
<td style="text-align:right;">
0.368
</td>
<td style="text-align:right;">
-1.014
</td>
<td style="text-align:right;">
1.344
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,Schwefel2d26N6]
</td>
<td style="text-align:right;">
0.364
</td>
<td style="text-align:right;">
-2.080
</td>
<td style="text-align:right;">
0.064
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,Schwefel2d26N6]
</td>
<td style="text-align:right;">
-1.050
</td>
<td style="text-align:right;">
-0.410
</td>
<td style="text-align:right;">
1.693
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,StrechedVSineWave2N]
</td>
<td style="text-align:right;">
-0.207
</td>
<td style="text-align:right;">
-1.054
</td>
<td style="text-align:right;">
1.264
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,StrechedVSineWave2N]
</td>
<td style="text-align:right;">
-0.238
</td>
<td style="text-align:right;">
-1.796
</td>
<td style="text-align:right;">
0.594
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,StrechedVSineWave2N]
</td>
<td style="text-align:right;">
-1.991
</td>
<td style="text-align:right;">
-1.887
</td>
<td style="text-align:right;">
0.397
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,StrechedVSineWave2N]
</td>
<td style="text-align:right;">
-1.952
</td>
<td style="text-align:right;">
-2.401
</td>
<td style="text-align:right;">
0.582
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,StrechedVSineWave2N]
</td>
<td style="text-align:right;">
-0.530
</td>
<td style="text-align:right;">
-1.248
</td>
<td style="text-align:right;">
0.912
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,StrechedVSineWave2N]
</td>
<td style="text-align:right;">
-0.820
</td>
<td style="text-align:right;">
1.214
</td>
<td style="text-align:right;">
3.596
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[NelderMead,Trefethen]
</td>
<td style="text-align:right;">
1.410
</td>
<td style="text-align:right;">
-0.773
</td>
<td style="text-align:right;">
2.238
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[PSO,Trefethen]
</td>
<td style="text-align:right;">
-0.767
</td>
<td style="text-align:right;">
-2.389
</td>
<td style="text-align:right;">
0.029
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[SimulatedAnnealing,Trefethen]
</td>
<td style="text-align:right;">
-0.805
</td>
<td style="text-align:right;">
-1.929
</td>
<td style="text-align:right;">
0.268
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[DifferentialEvolution,Trefethen]
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
-1.102
</td>
<td style="text-align:right;">
1.343
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[RandomSearch1,Trefethen]
</td>
<td style="text-align:right;">
2.349
</td>
<td style="text-align:right;">
-1.242
</td>
<td style="text-align:right;">
0.827
</td>
</tr>
<tr>
<td style="text-align:left;">
U1[CMAES,Trefethen]
</td>
<td style="text-align:right;">
1.492
</td>
<td style="text-align:right;">
0.359
</td>
<td style="text-align:right;">
2.674
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_rank_of_players_table.html">get_rank_of_players_table</a></span><span class="op">(</span><span class="va">m</span>, format<span class="op">=</span><span class="st">'html'</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>
Estimated posterior ranks
</caption>
<thead><tr>
<th style="text-align:left;">
Parameter
</th>
<th style="text-align:right;">
MedianRank
</th>
<th style="text-align:right;">
MeanRank
</th>
<th style="text-align:right;">
StdRank
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
lambda[DifferentialEvolution]
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.013
</td>
<td style="text-align:right;">
0.130
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[CMAES]
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2.355
</td>
<td style="text-align:right;">
0.503
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[PSO]
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2.664
</td>
<td style="text-align:right;">
0.534
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[RandomSearch1]
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4.003
</td>
<td style="text-align:right;">
0.255
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[SimulatedAnnealing]
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5.000
</td>
<td style="text-align:right;">
0.268
</td>
</tr>
<tr>
<td style="text-align:left;">
lambda[NelderMead]
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
5.965
</td>
<td style="text-align:right;">
0.184
</td>
</tr>
</tbody>
</table>
<p>Plot the HPD intervals</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">m</span>,rotate_x_labels <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<p><img src="c_bt_random_effects_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>We can see that the Differential Evolution Performs better than the others. While the PSO and the CMA-ES algorithm have relatively similar abilities.</p>
<p>From the high value of the <span class="math inline">\(U1_{std}\)</span> we can see that the choice of benchmarks greatly have a large variance and a big influence in the results and that some algorithms have a better performance in some benchmarks than others. E.g. the Trefethen function is a difficult problem to solve and the U estimate there seems to reduce the ability of the best algorithms while increasing the ability of the worst ones, acting as a regularizing parameter there.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by David Issa Mattos, Erika Martins Silva Ramos.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
